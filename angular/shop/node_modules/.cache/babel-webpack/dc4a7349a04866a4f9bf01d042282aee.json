{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/luuuk/OneDrive/Dokumenty/GitHub/shop_model/angular/shop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { fromEvent } from 'rxjs';\nimport { AuthGuard } from './add-product/guard/auth-guard';\nimport { faCommentDots, faCheck } from \"@fortawesome/free-solid-svg-icons\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./products/curr-data/curr-data.service\";\nimport * as i2 from \"./products/flows-products/flows-products.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./auth/auth.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"./body/body.component\";\nimport * as i7 from \"./top-list/top-list.component\";\nimport * as i8 from \"./panel/panel.component\";\nimport * as i9 from \"./products/products.component\";\nimport * as i10 from \"@fortawesome/angular-fontawesome\";\nimport * as i11 from \"./chat/chat.component\";\nconst _c0 = [\"addProductButton\"];\nconst _c1 = [\"showChat\"];\n\nfunction MainComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelementStart(1, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function MainComponent_div_4_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.logout();\n    });\n    i0.ɵɵtext(2, \"Wyloguj si\\u0119\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 15);\n    i0.ɵɵtext(4, \"koszyk\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MainComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵtext(1, \"Stw\\u00F3rz konto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 17);\n    i0.ɵɵtext(3, \"Zaloguj si\\u0119\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MainComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelement(1, \"fa-icon\", 19);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"icon\", ctx_r5.faCan);\n  }\n}\n\nfunction MainComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" x \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class MainComponent {\n  constructor(currDataServ, flowsProcuts, activatedRoute, authService) {\n    this.currDataServ = currDataServ;\n    this.flowsProcuts = flowsProcuts;\n    this.activatedRoute = activatedRoute;\n    this.authService = authService;\n    this.faChat = faCommentDots;\n    this.faCan = faCheck;\n    this.can = false;\n    this.flagChat = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let period;\n      let group;\n\n      _this.activatedRoute.paramMap.subscribe(e => {\n        period = e.get(\"period\");\n        group = e.get(\"group\");\n        _this.currDataServ.group = group;\n        _this.currDataServ.period = period;\n      });\n\n      _this.currDataServ.takeProducts(period, group).subscribe(e => {\n        _this.flowsProcuts.products.next(e);\n      });\n    })();\n  }\n\n  ngAfterViewInit() {\n    this.listenPageScroll();\n    this.authService.canAdd().subscribe(e => {\n      this.isAdmin = !!e[\"userCan\"];\n      const chatChild = document.getElementById(\"chat\");\n      this.isAdmin ? chatChild.style.width = \"auto\" : chatChild.style.width = \"624px\";\n      this.chat = document.getElementById(\"chat\");\n      if (!this.isAdmin) this.chat.style.right = \"-235px\";\n      if (e['userCan'] !== false) this.addProductButton.nativeElement.style.display = \"block\";\n      this.userLog = e[\"userLog\"];\n    });\n    document.getElementById(\"info\").style.position = \"relative\";\n  }\n\n  hasShowChat(showChatButton) {\n    if (!this.can) return;\n    !this.flagChat ? this.chat.style.display = \"flex\" : this.chat.style.display = \"none\";\n    this.flagChat = !this.flagChat;\n  } // wylogowywanie\n\n\n  logout() {\n    this.authService.logout().subscribe(e => {\n      if (e[\"logout\"]) window.location.reload();\n    });\n  } // nasłuchujemy stan w strony i nadajemy style dla paska\n\n\n  listenPageScroll() {\n    const pageState = document.getElementById(\"page_state\");\n    const currentScroll = Math.round(window.scrollY / (document.body.offsetHeight - window.innerHeight) * 100);\n    pageState.style.width = currentScroll + \"%\";\n    fromEvent(document, \"scroll\").subscribe(() => {\n      const currentScroll = Math.round(window.scrollY / (document.body.offsetHeight - window.innerHeight) * 100);\n      pageState.style.width = currentScroll + \"%\";\n    });\n  } // czy możemy rozpocząć czat\n\n\n  canChat(data) {\n    this.can = data;\n  }\n\n}\n\nMainComponent.ɵfac = function MainComponent_Factory(t) {\n  return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.CurrDataService), i0.ɵɵdirectiveInject(i2.FlowsProductsService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.AuthService));\n};\n\nMainComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainComponent,\n  selectors: [[\"app-main\"]],\n  viewQuery: function MainComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.addProductButton = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.showChat = _t.first);\n    }\n  },\n  features: [i0.ɵɵProvidersFeature([AuthGuard])],\n  decls: 20,\n  vars: 6,\n  consts: [[\"id\", \"page_state\"], [\"id\", \"add__stuff\", \"routerLink\", \"/dodaj\", 2, \"display\", \"none\"], [\"addProductButton\", \"\"], [\"id\", \"logout\", 4, \"ngIf\", \"ngIfElse\"], [\"log\", \"\"], [\"id\", \"header\"], [\"id\", \"container\"], [\"id\", \"showChat\", 3, \"click\"], [\"showChat\", \"\"], [\"id\", \"can\", 4, \"ngIf\", \"ngIfElse\"], [2, \"color\", \"white\", \"font-size\", \"22px\", 3, \"icon\"], [\"id\", \"chat\", 3, \"admin\", \"emit\"], [\"not\", \"\"], [\"id\", \"logout\"], [3, \"click\"], [\"id\", \"basket\", \"routerLink\", \"/koszyk\"], [\"id\", \"register\", \"routerLink\", \"/nowe_konto\"], [\"id\", \"login\", \"routerLink\", \"/login\"], [\"id\", \"can\"], [3, \"icon\"], [\"id\", \"not\"]],\n  template: function MainComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r10 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelement(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"button\", 1, 2);\n      i0.ɵɵtext(3, \"Dodaj produkt\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, MainComponent_div_4_Template, 5, 0, \"div\", 3);\n      i0.ɵɵtemplate(5, MainComponent_ng_template_5_Template, 4, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementStart(7, \"div\", 5);\n      i0.ɵɵelement(8, \"app-body\");\n      i0.ɵɵelement(9, \"app-top-list\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 6);\n      i0.ɵɵelement(11, \"app-panel\");\n      i0.ɵɵelement(12, \"app-products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 7, 8);\n      i0.ɵɵlistener(\"click\", function MainComponent_Template_div_click_13_listener() {\n        i0.ɵɵrestoreView(_r10);\n\n        const _r4 = i0.ɵɵreference(14);\n\n        return ctx.hasShowChat(_r4);\n      });\n      i0.ɵɵtemplate(15, MainComponent_div_15_Template, 2, 1, \"div\", 9);\n      i0.ɵɵelement(16, \"fa-icon\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"app-chat\", 11);\n      i0.ɵɵlistener(\"emit\", function MainComponent_Template_app_chat_emit_17_listener($event) {\n        return ctx.canChat($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, MainComponent_ng_template_18_Template, 2, 0, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(6);\n\n      const _r6 = i0.ɵɵreference(19);\n\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.userLog)(\"ngIfElse\", _r2);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngIf\", ctx.can)(\"ngIfElse\", _r6);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"icon\", ctx.faChat);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"admin\", ctx.isAdmin);\n    }\n  },\n  directives: [i3.RouterLink, i5.NgIf, i6.BodyComponent, i7.TopListComponent, i8.PanelComponent, i9.ProductsComponent, i10.FaIconComponent, i11.ChatComponent],\n  styles: [\"[_nghost-%COMP%]{\\r\\n    --button-top: 40px;\\r\\n    --button-height: 25px;\\r\\n}\\r\\n\\r\\n#page_state[_ngcontent-%COMP%]{\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    width: 100%;\\r\\n    border-top: 7px solid rgb(223, 122, 122);\\r\\n    z-index: 4;\\r\\n}\\r\\n\\r\\napp-body[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    width: 140px;\\r\\n    z-index: 3;\\r\\n    background: rgb(247, 247, 247);\\r\\n}\\r\\n\\r\\n#container[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    margin-top: 35px;\\r\\n}\\r\\n\\r\\napp-panel[_ngcontent-%COMP%]{\\r\\n    flex-basis: 25%;\\r\\n}\\r\\n\\r\\napp-products[_ngcontent-%COMP%]{\\r\\n    flex-basis: 75%;\\r\\n    display: flex;\\r\\n    min-height: 450px;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: space-around;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%]{\\r\\n    height: var(--button-height);\\r\\n}\\r\\n\\r\\n#header[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n#header[_ngcontent-%COMP%], app-body[_ngcontent-%COMP%], app-top-list[_ngcontent-%COMP%]{\\r\\n    height: 470px;\\r\\n}\\r\\n\\r\\napp-top-list[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n#add__stuff[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    top: var(--button-top);\\r\\n    right: 50px;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n#register[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    top: var(--button-top);\\r\\n    right: 50px;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n#login[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    top: 100px;\\r\\n    right: 50px;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n#logout[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    top: calc( var(--button-height) + var(--button-top));\\r\\n    right: 50px;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n#basket[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    right: 145px;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\napp-chat[_ngcontent-%COMP%]{\\r\\n    position: fixed;\\r\\n    right: -2%;\\r\\n    bottom: 0%;\\r\\n    transform: translate(0%, 0%);\\r\\n    display: flex;\\r\\n    width: 550px;\\r\\n    z-index: 3;\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n#showChat[_ngcontent-%COMP%]{\\r\\n    position: fixed;\\r\\n    right: 5%;\\r\\n    bottom: 5%;\\r\\n    background-color: aquamarine;\\r\\n    cursor: pointer;\\r\\n    width: 45px;\\r\\n    height: 35px;\\r\\n    text-align: center;\\r\\n    z-index: 4;\\r\\n    border-radius: 17px;\\r\\n    padding-top: 10px;\\r\\n}\\r\\n\\r\\n#can[_ngcontent-%COMP%], #not[_ngcontent-%COMP%]{\\r\\n    position: absolute;\\r\\n    top: -10px;\\r\\n    right: -10px;\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n    line-height: 22px;\\r\\n    border-radius: 8px;\\r\\n    color: aliceblue;\\r\\n}\\r\\n\\r\\n#can[_ngcontent-%COMP%]{\\r\\n    background-color: rgb(115, 221, 112);\\r\\n}\\r\\n\\r\\n#not[_ngcontent-%COMP%]{\\r\\n    font-weight: 600;\\r\\n    background-color: rgb(206, 73, 73);\\r\\n}\\r\\n\\r\\n@media(min-width: 170px)\\r\\n{ \\r\\n\\r\\n    #container[_ngcontent-%COMP%]{\\r\\n        flex-direction: column;\\r\\n    }\\r\\n\\r\\n    #login[_ngcontent-%COMP%]{\\r\\n        top: 70px;\\r\\n        right: 20px;\\r\\n    }\\r\\n\\r\\n    #register[_ngcontent-%COMP%]{\\r\\n        top: 35px;\\r\\n        right: 20px;\\r\\n    }\\r\\n\\r\\n    #logout[_ngcontent-%COMP%], #add__stuff[_ngcontent-%COMP%]{\\r\\n        right: 25px;\\r\\n    }\\r\\n\\r\\n    app-chat[_ngcontent-%COMP%]{\\r\\n        width: 100%;\\r\\n        height: 300px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media(min-width: 310px)\\r\\n{\\r\\n    app-chat[_ngcontent-%COMP%]{\\r\\n        height: 380px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media(min-width: 1200px)\\r\\n{\\r\\n    #container[_ngcontent-%COMP%]{\\r\\n        flex-direction: row;\\r\\n    }\\r\\n\\r\\n    app-chat[_ngcontent-%COMP%]{\\r\\n        width: 624px;\\r\\n        height: 460px;\\r\\n    }\\r\\n\\r\\n    #logout[_ngcontent-%COMP%]{\\r\\n        z-index: 6;\\r\\n    }\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsTUFBTTtJQUNOLE9BQU87SUFDUCxXQUFXO0lBQ1gsd0NBQXdDO0lBQ3hDLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLFVBQVU7SUFDViw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZiw2QkFBNkI7QUFDakM7O0FBRUE7SUFDSSw0QkFBNEI7QUFDaEM7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixzQkFBc0I7SUFDdEIsV0FBVztJQUNYLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixzQkFBc0I7SUFDdEIsV0FBVztJQUNYLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsV0FBVztJQUNYLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixvREFBb0Q7SUFDcEQsV0FBVztJQUNYLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sWUFBWTtJQUNaLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGVBQWU7SUFDZixVQUFVO0lBQ1YsVUFBVTtJQUNWLDRCQUE0QjtJQUM1QixhQUFhO0lBQ2IsWUFBWTtJQUNaLFVBQVU7SUFDVixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFNBQVM7SUFDVCxVQUFVO0lBQ1YsNEJBQTRCO0lBQzVCLGVBQWU7SUFDZixXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsbUJBQW1CO0lBQ25CLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxvQ0FBb0M7QUFDeEM7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsa0NBQWtDO0FBQ3RDOztBQUVBOzs7SUFHSTtRQUNJLHNCQUFzQjtJQUMxQjs7SUFFQTtRQUNJLFNBQVM7UUFDVCxXQUFXO0lBQ2Y7O0lBRUE7UUFDSSxTQUFTO1FBQ1QsV0FBVztJQUNmOztJQUVBO1FBQ0ksV0FBVztJQUNmOztJQUVBO1FBQ0ksV0FBVztRQUNYLGFBQWE7SUFDakI7QUFDSjs7QUFFQTs7SUFFSTtRQUNJLGFBQWE7SUFDakI7QUFDSjs7QUFFQTs7SUFFSTtRQUNJLG1CQUFtQjtJQUN2Qjs7SUFFQTtRQUNJLFlBQVk7UUFDWixhQUFhO0lBQ2pCOztJQUVBO1FBQ0ksVUFBVTtJQUNkO0FBQ0oiLCJmaWxlIjoibWFpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3R7XHJcbiAgICAtLWJ1dHRvbi10b3A6IDQwcHg7XHJcbiAgICAtLWJ1dHRvbi1oZWlnaHQ6IDI1cHg7XHJcbn1cclxuXHJcbiNwYWdlX3N0YXRle1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyLXRvcDogN3B4IHNvbGlkIHJnYigyMjMsIDEyMiwgMTIyKTtcclxuICAgIHotaW5kZXg6IDQ7XHJcbn1cclxuXHJcbmFwcC1ib2R5e1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICB3aWR0aDogMTQwcHg7XHJcbiAgICB6LWluZGV4OiAzO1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDI0NywgMjQ3LCAyNDcpO1xyXG59XHJcblxyXG4jY29udGFpbmVye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIG1hcmdpbi10b3A6IDM1cHg7XHJcbn1cclxuXHJcbmFwcC1wYW5lbHtcclxuICAgIGZsZXgtYmFzaXM6IDI1JTtcclxufVxyXG5cclxuYXBwLXByb2R1Y3Rze1xyXG4gICAgZmxleC1iYXNpczogNzUlO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIG1pbi1oZWlnaHQ6IDQ1MHB4O1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcbn1cclxuXHJcbmJ1dHRvbntcclxuICAgIGhlaWdodDogdmFyKC0tYnV0dG9uLWhlaWdodCk7XHJcbn1cclxuXHJcbiNoZWFkZXJ7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcblxyXG4jaGVhZGVyLCBhcHAtYm9keSwgYXBwLXRvcC1saXN0e1xyXG4gICAgaGVpZ2h0OiA0NzBweDtcclxufVxyXG5cclxuYXBwLXRvcC1saXN0e1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbiNhZGRfX3N0dWZme1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiB2YXIoLS1idXR0b24tdG9wKTtcclxuICAgIHJpZ2h0OiA1MHB4O1xyXG4gICAgei1pbmRleDogMjtcclxufVxyXG5cclxuI3JlZ2lzdGVye1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiB2YXIoLS1idXR0b24tdG9wKTtcclxuICAgIHJpZ2h0OiA1MHB4O1xyXG4gICAgei1pbmRleDogMjtcclxufVxyXG5cclxuI2xvZ2lue1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAxMDBweDtcclxuICAgIHJpZ2h0OiA1MHB4O1xyXG4gICAgei1pbmRleDogMjtcclxufVxyXG5cclxuI2xvZ291dHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogY2FsYyggdmFyKC0tYnV0dG9uLWhlaWdodCkgKyB2YXIoLS1idXR0b24tdG9wKSk7XHJcbiAgICByaWdodDogNTBweDtcclxuICAgIHotaW5kZXg6IDI7XHJcbn1cclxuXHJcbiNiYXNrZXR7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICByaWdodDogMTQ1cHg7XHJcbiAgICB6LWluZGV4OiAyO1xyXG59XHJcblxyXG5hcHAtY2hhdHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHJpZ2h0OiAtMiU7XHJcbiAgICBib3R0b206IDAlO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCUsIDAlKTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB3aWR0aDogNTUwcHg7XHJcbiAgICB6LWluZGV4OiAzO1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuI3Nob3dDaGF0e1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgcmlnaHQ6IDUlO1xyXG4gICAgYm90dG9tOiA1JTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGFxdWFtYXJpbmU7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB3aWR0aDogNDVweDtcclxuICAgIGhlaWdodDogMzVweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHotaW5kZXg6IDQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxN3B4O1xyXG4gICAgcGFkZGluZy10b3A6IDEwcHg7XHJcbn1cclxuXHJcbiNjYW4sICNub3R7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IC0xMHB4O1xyXG4gICAgcmlnaHQ6IC0xMHB4O1xyXG4gICAgd2lkdGg6IDIycHg7XHJcbiAgICBoZWlnaHQ6IDIycHg7XHJcbiAgICBsaW5lLWhlaWdodDogMjJweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGNvbG9yOiBhbGljZWJsdWU7XHJcbn1cclxuXHJcbiNjYW57XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTE1LCAyMjEsIDExMik7XHJcbn1cclxuXHJcbiNub3R7XHJcbiAgICBmb250LXdlaWdodDogNjAwO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIwNiwgNzMsIDczKTtcclxufVxyXG5cclxuQG1lZGlhKG1pbi13aWR0aDogMTcwcHgpXHJcbnsgXHJcblxyXG4gICAgI2NvbnRhaW5lcntcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgfVxyXG5cclxuICAgICNsb2dpbntcclxuICAgICAgICB0b3A6IDcwcHg7XHJcbiAgICAgICAgcmlnaHQ6IDIwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgI3JlZ2lzdGVye1xyXG4gICAgICAgIHRvcDogMzVweDtcclxuICAgICAgICByaWdodDogMjBweDtcclxuICAgIH1cclxuXHJcbiAgICAjbG9nb3V0LCAjYWRkX19zdHVmZntcclxuICAgICAgICByaWdodDogMjVweDtcclxuICAgIH1cclxuXHJcbiAgICBhcHAtY2hhdHtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBoZWlnaHQ6IDMwMHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG5AbWVkaWEobWluLXdpZHRoOiAzMTBweClcclxue1xyXG4gICAgYXBwLWNoYXR7XHJcbiAgICAgICAgaGVpZ2h0OiAzODBweDtcclxuICAgIH1cclxufVxyXG5cclxuQG1lZGlhKG1pbi13aWR0aDogMTIwMHB4KVxyXG57XHJcbiAgICAjY29udGFpbmVye1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwLWNoYXR7XHJcbiAgICAgICAgd2lkdGg6IDYyNHB4O1xyXG4gICAgICAgIGhlaWdodDogNDYwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgI2xvZ291dHtcclxuICAgICAgICB6LWluZGV4OiA2O1xyXG4gICAgfVxyXG59Il19 */\"]\n});\n;","map":{"version":3,"sources":["C:\\Users\\luuuk\\OneDrive\\Dokumenty\\GitHub\\shop_model\\angular\\shop\\src\\app\\main\\main.component.ts","C:\\Users\\luuuk\\OneDrive\\Dokumenty\\GitHub\\shop_model\\angular\\shop\\src\\app\\main\\main.component.html"],"names":[],"mappings":"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","sourcesContent":["import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { fromEvent } from 'rxjs';\nimport { ProductDto } from '../dto/product.dto';\n\nimport { AuthGuard } from './add-product/guard/auth-guard';\nimport { AuthService } from './auth/auth.service';\n\nimport { CurrDataService } from './products/curr-data/curr-data.service';\nimport { FlowsProductsService } from './products/flows-products/flows-products.service';\n\nimport { faCommentDots, IconDefinition, faCheck } from \"@fortawesome/free-solid-svg-icons\"\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css'],\n  providers: [AuthGuard]\n})\nexport class MainComponent implements OnInit, AfterViewInit {\n\n  isAdmin: boolean;\n  userLog: boolean;\n\n  faChat: IconDefinition = faCommentDots;\n\n  constructor(\n    private currDataServ: CurrDataService,\n    private flowsProcuts: FlowsProductsService,\n  \n    private activatedRoute: ActivatedRoute,\n    private authService: AuthService\n  ){};\n\n  async ngOnInit()\n  {\n    let period: string;\n    let group: string;\n\n    this.activatedRoute.paramMap.subscribe(e => {\n      period = e.get(\"period\");\n      group = e.get(\"group\");\n\n      this.currDataServ.group = group;\n      this.currDataServ.period = period;\n    });\n\n    this.currDataServ.takeProducts(period, group).subscribe((e: ProductDto[]) => {\n      this.flowsProcuts.products.next(e);\n    });\n  }\n\n  @ViewChild(\"addProductButton\")\n  addProductButton: ElementRef;\n\n  @ViewChild(\"showChat\")\n  showChat: ElementRef;\n\n  chat;\n  faCan: IconDefinition = faCheck;\n\n  can: boolean = false;\n  ngAfterViewInit()\n  {\n    this.listenPageScroll();\n\n    this.authService.canAdd().subscribe(e =>{\n\n      this.isAdmin = !!e[\"userCan\"];\n      const chatChild = document.getElementById(\"chat\");\n      \n      this.isAdmin? chatChild.style.width = \"auto\": chatChild.style.width = \"624px\";\n\n      this.chat = document.getElementById(\"chat\");\n      if(!this.isAdmin) this.chat.style.right = \"-235px\";\n\n      if(e['userCan'] !== false) this.addProductButton.nativeElement.style.display = \"block\";\n      this.userLog = e[\"userLog\"];\n    });\n    \n    document.getElementById(\"info\").style.position = \"relative\";\n  }\n\n  flagChat: boolean = false;\n  hasShowChat(showChatButton: HTMLDivElement)\n  {\n    if(!this.can) return;\n    !this.flagChat? this.chat.style.display = \"flex\": this.chat.style.display = \"none\";\n    this.flagChat = !this.flagChat;\n  }\n\n  // wylogowywanie\n  logout()\n  {\n    this.authService.logout().subscribe(e => {\n      if(e[\"logout\"]) window.location.reload();\n    });\n  }\n\n  // nasłuchujemy stan w strony i nadajemy style dla paska\n  listenPageScroll()\n  {\n    const pageState = document.getElementById(\"page_state\");\n    const currentScroll = Math.round(window.scrollY / (document.body.offsetHeight - window.innerHeight) * 100);\n\n    pageState.style.width = currentScroll+\"%\";\n    \n    fromEvent(document, \"scroll\")\n    .subscribe(() => {\n      const currentScroll = Math.round(window.scrollY / (document.body.offsetHeight - window.innerHeight) * 100);\n\n      pageState.style.width = currentScroll+\"%\";\n    });\n  }\n\n  // czy możemy rozpocząć czat\n  canChat(data: boolean)\n  {\n    this.can = data;\n  }\n};","<div id=\"page_state\"></div>\r\n\r\n<button #addProductButton style=\"display: none;\" id=\"add__stuff\" routerLink=\"/dodaj\">Dodaj produkt</button>\r\n<div *ngIf=\"userLog; else log\" id=\"logout\" >\r\n    <button (click)=\"logout()\">Wyloguj się</button>\r\n    <button id=\"basket\" routerLink=\"/koszyk\">koszyk</button>\r\n</div>\r\n\r\n<ng-template #log>\r\n    <button id=\"register\" routerLink=\"/nowe_konto\">Stwórz konto</button>\r\n    <button id=\"login\" routerLink=\"/login\">Zaloguj się</button>\r\n</ng-template>\r\n\r\n<div id=\"header\">\r\n    <app-body></app-body>\r\n    <app-top-list></app-top-list>\r\n</div>\r\n\r\n<div id=\"container\">\r\n    <app-panel></app-panel>\r\n    <app-products></app-products>\r\n</div>\r\n\r\n<div id=\"showChat\" #showChat (click)=\"hasShowChat(showChat)\">\r\n    <div id=\"can\" *ngIf=\"can else not\">\r\n        <fa-icon [icon]=\"faCan\"></fa-icon>\r\n    </div>\r\n    <fa-icon style=\"color: white; font-size: 22px;\" [icon]=\"faChat\"></fa-icon>\r\n</div>\r\n<app-chat (emit)=\"canChat($event)\" id=\"chat\" [admin]=\"isAdmin\"></app-chat>\r\n\r\n<ng-template #not>\r\n    <div id=\"not\">\r\n        x\r\n    </div>\r\n</ng-template>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}