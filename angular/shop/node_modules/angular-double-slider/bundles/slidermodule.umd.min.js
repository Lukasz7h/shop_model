!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],i):i((t.ng=t.ng||{},t.ng.slidermodule={}),t.ng.core,null)}(this,function(t,i,e){"use strict";var n=function(){function t(t){this.cdr=t,this.tooltip=!1,this.tooltipSymbol="",this.increment=0,this.disable=!1,this.minChange=new i.EventEmitter,this.maxChange=new i.EventEmitter,this.sliderEnd=new i.EventEmitter,this.sliderMiddle=!0,this.sliderMinIcon="",this.mouseDownHandle=!1,this.total=0}return t.prototype.ngOnInit=function(){this.minValue=+this.minValue,this.maxValue=+this.maxValue},t.prototype.resetPosition=function(){try{var t=-this.halfSliderWidth;this.sliderChange("min",t,this.minValue),t=this.halfSliderWidth,this.sliderChange("max",t,this.maxValue),this.minPos=0,this.maxPos=this.width,this.last=0,this.progressFn(this.progress.nativeElement,this.minPos),this.sliderEnd.emit({min:this.minValue,max:this.maxValue})}catch(t){}},t.prototype.onmousedown=function(t){try{this.disable||(t.preventDefault(),this.element=t.target,this.mouseDownHandle=!0,t.stopPropagation())}catch(t){}},t.prototype.onResize=function(t){try{this.width=this.dbSlider.nativeElement.clientWidth,this.maxPos=+this.maxPos/this.lastWidth*this.width,this.minPos=+this.minPos/this.lastWidth*this.width,this.lastWidth=this.width,this.parentHandler(this.minPos,"min"),this.parentHandler(this.maxPos,"max"),this.last=this.minPos,this.checkGreater()&&this.progressFn(this.progress.nativeElement,this.minPos)}catch(t){}},t.prototype.sliderChange=function(t,i,e){try{"min"===t?(this.slideMin.nativeElement.style.webkitTransform="translate("+i+"px,0px)",this.minChange.emit(e),this.minTooltip=e):(this.slideMax.nativeElement.style.webkitTransform="translate("+i+"px,0px)",this.maxChange.emit(e),this.maxTooltip=e)}catch(t){}},t.prototype.ngAfterViewInit=function(){var t=this;try{setTimeout(function(){t.sliderWidth=t.slideMax.nativeElement.clientWidth,t.halfSliderWidth=t.sliderWidth/2,t.width=t.dbSlider.nativeElement.clientWidth,t.lastWidth=t.width,t.initalPosition=t.dbSlider.nativeElement.offsetParent.offsetLeft+t.dbSlider.nativeElement.offsetLeft,t.minPos=0,t.maxPos=t.width,t.total=t.maxValue-t.minValue,t.min=0|t.minValue,t.max=0<t.total?t.maxValue:t.width,t.minTooltip=t.min,t.maxTooltip=t.max,t.resetPosition(),t.last=0})}catch(t){}},t.prototype.getPosition=function(t){try{return 0===t.type.indexOf("touch")?t.touches[0].clientX:t.clientX}catch(t){}},t.prototype.parentHandler=function(t,i){try{if(!this.disable){var e=0;if(i)e=Math.floor(t);else e=(s=this.getPosition(t))-(this.dbSlider.nativeElement.offsetParent.offsetLeft+this.dbSlider.nativeElement.offsetLeft);var n=this.evaluateValue(e);if(e<=this.width/2&&this.max>=n||n<=this.min||"min"===i){this.minPos=e,this.min=n,this.element=this.slideMin.nativeElement;var s=e-this.halfSliderWidth;this.sliderChange("min",s,n)}else{this.maxPos=e,this.max=n,this.element=this.slideMax.nativeElement;s=-(this.width-e-this.halfSliderWidth);this.sliderChange("max",s,n)}this.getSliderValue(),this.checkGreater()&&!i&&(this.progressFn(this.progress.nativeElement,this.minPos),this.sliderEnd.emit({min:this.min,max:this.max}))}}catch(t){}},t.prototype.parent=function(t){try{t.preventDefault(),this.parentHandler(t,!1)}catch(t){}},t.prototype.checkGreater=function(){try{return this.max>=this.min}catch(t){}},t.prototype.onMove=function(t){try{if(this.mouseDownHandle&&!this.disable){t.preventDefault();var i=this.getPosition(t)-(this.dbSlider.nativeElement.offsetParent.offsetLeft+this.dbSlider.nativeElement.offsetLeft);if(i<=this.width+4&&0<=i-2){this.getSliderValue();var e=0;if("min"===this.getSlider){if(this.minPos=i,this.min=e=this.evaluateValue(i),this.checkGreater()){var n=this.minPos-this.halfSliderWidth;this.sliderChange("min",n,e)}}else if(this.maxPos=i,this.max=e=this.evaluateValue(this.maxPos),this.checkGreater()){n=-(this.width-i-this.halfSliderWidth);this.sliderChange("max",n,e)}this.checkGreater()&&this.progressFn(this.progress.nativeElement,this.minPos)}}}catch(t){}},t.prototype.mouseup=function(t){try{this.mouseDownHandle&&this.sliderEnd.emit({min:this.minTooltip,max:this.maxTooltip}),this.mouseDownHandle=!1}catch(t){}},t.prototype.progressFn=function(t,i){try{var e=!1!==i?(this.maxPos-this.minPos)/this.width:1;"min"===this.getSlider?(this.last=i,t.style.webkitTransform="translate("+i+"px,0) scale("+e+",1)"):t.style.webkitTransform="translate("+this.last+"px,0) scale("+e+",1)"}catch(t){}},t.prototype.evaluateValue=function(t){try{var i=this.increment?this.total/this.increment:100,e=Math.floor(t/this.width*i);return this.total/i*e+this.minValue}catch(t){}},t.prototype.decodeValue=function(t,i){try{return i-=this.minValue,this.width/(this.total/i)}catch(t){}},t.prototype.getSliderValue=function(){try{this.element.classList.contains("slider-min")?this.getSlider="min":this.element.classList.contains("slider-max")&&(this.getSlider="max")}catch(t){}},t.prototype.reset=function(){try{this.resetPosition()}catch(t){}},t.prototype.setMax=function(t){try{if((t=parseInt(t))<=this.maxValue&&t>=this.min&&!this.disable){this.getSlider="max";var i=this.slideMax.nativeElement,e=-(this.width-this.decodeValue(i,t)-this.halfSliderWidth);this.sliderChange("max",e,t),this.max=t,this.maxPos=this.width+e,this.progressFn(this.progress.nativeElement,this.minPos)}}catch(t){}},t.prototype.setMin=function(t){try{if((t=parseInt(t))>=this.minValue&&t<=this.max&&!this.disable){this.getSlider="min";var i=this.slideMin.nativeElement,e=this.decodeValue(i,t)-this.halfSliderWidth;this.sliderChange("min",e,t),this.minPos=e,this.min=t,this.progressFn(this.progress.nativeElement,this.minPos)}}catch(t){}},t.decorators=[{type:i.Component,args:[{selector:"double-slider",template:'<div class="p-slider">\n  <div [ngClass]="{\'disable\':disable}" #dbSlider1 class="double-slider" (window:resize)="onResize($event)" (mousedown)="parent($event)"\n      (touchstart)="parent($event)">\n      <div class="slider slider-min" #slideMin (touchstart)="onmousedown($event)" (mousedown)="onmousedown($event)">\n          <span class="tooltip" *ngIf="tooltip">\n              <i class="{{tooltipSymbol}}"></i>&nbsp;{{minTooltip}}</span>\n      </div>\n      <div class="slider slider-max" #slideMax (touchstart)="onmousedown($event)" (mousedown)="onmousedown($event)">\n          <span class="tooltip" *ngIf="tooltip">\n              <i class="{{tooltipSymbol}}"></i>&nbsp;{{maxTooltip}}</span>\n      </div>\n      <div [hidden]="!sliderMiddle" class="slider-progress" #sliderProgress></div>\n  </div>\n</div>',styles:['\n*{\n    box-sizing: border-box;\n}\n.double-slider{\n  background-color:white;\n    border:1px solid #DDDDDD;\n    /* height: 10px; */\n    height: 12px;\n    /* width:100%; */\n    position: relative;\n    border-radius: 2px;\n    max-width: 600px;\n    margin:10px;\n    cursor: pointer;\n}\n.disable{\n    cursor: no-drop ;\n    opacity: 0.6;\n}\n.slider{\n    /* background-image: url("pepsi.png"); */\n    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.24), 0 0 2px rgba(0, 0, 0, 0.12);\n   /* opacity: 0.4; */\n    top: -12px;\n    z-index: 3;\n    width: 32px;\n    height: 32px;\n    cursor: inherit;\n    background-color: #0db9f0;\n    position: absolute;\ndisplay: inline-block;\nwhite-space: nowrap;\nborder-radius: 16px;\ntransform-origin: 0 0;\nwill-change: transform;\n}\n.slider2{\n\n    /* opacity: 0.4; */\n     top: -12px;\n     z-index: 3;\n     width: 32px;\n     height: 32px;\n     cursor: pointer;\n     background-color: #0db9f0;\n     position: absolute;\n display: inline-block;\n white-space: nowrap;\n border-radius: 2px;\n transform-origin: 0 0;\n will-change: transform;\n }\n.slider2::before{\n    content: "";\n    display: block;\n    position: absolute;\n    height: 14px;\n    width: 1px;\n    background: #E8E7E6;\n    left: 14px;\n    top: 6px;\n}\n.slider2::after{\n    content: "";\n    display: block;\n    position: absolute;\n    height: 14px;\n    width: 1px;\n    background: #E8E7E6;\n    left: 14px;\n    top: 6px;\n}\n.slider2:nth-child(1){\n    z-index:4;\n    left:0px;\n    }\n.slider2:nth-child(2){\n    z-index:5;\n/* right:-16px; */\nright: 0px;\n}\n.slider:nth-child(1){\n    left:0px;\n    }\n.slider:nth-child(2){\n/* right:-16px; */\nright: 0px;\n}\n\n.slider-progress{\n    position: absolute;\n    top:0px;\n    /* width:calc(100% - 32px); */\n   width:100%;\nheight: 100%;\n    /* left:15px; */\nleft: 0px;\n    /* height:10px; */\n    height: inherit;\n    background-color: #e5e5e5;  \n    transform-origin: 0 0;\n    will-change: transform;\n}\n.slider-disable{\n    opacity: .35 !important;\n    cursor: not-allowed !important;\n}\n.tooltip{\n    position: absolute;\n    top: -28px;\n    left: -3px;\n    z-index: 100;\n    background-color: white;\n    border: 1px solid dotted black;\n    border-style: dotted;\n    border: 2px solid lightseagreen;\n    border-radius: 5px;\n    padding: 2px;\n    text-align: center;\n    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.24), 0 0 2px rgba(0, 0, 0, 0.12);    \n}\n\n.slider:active{\n    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.24), 0 0 2px rgba(0, 0, 0, 0.12);\n}\n.slider2 .tooltip{\n    top:-17px;\n    left:-5px;\n}\n.p-slider{\n    display: inline-block;\n    position: relative;\n    box-sizing: border-box;\n    padding: 8px;\n    outline: 0;\n    vertical-align: middle;\n    height: 48px;\n    min-width: 128px;\n    width: 300px;\n}']}]}],t.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},t.propDecorators={tooltip:[{type:i.Input,args:["tooltip"]}],tooltipSymbol:[{type:i.Input,args:["tooltipSymbol"]}],minValue:[{type:i.Input,args:["min"]}],maxValue:[{type:i.Input,args:["max"]}],increment:[{type:i.Input,args:["increment"]}],disable:[{type:i.Input,args:["disable"]}],minChange:[{type:i.Output,args:["minChange"]}],maxChange:[{type:i.Output,args:["maxChange"]}],sliderEnd:[{type:i.Output,args:["sliderEnd"]}],dbSlider:[{type:i.ViewChild,args:["dbSlider1"]}],slideMin:[{type:i.ViewChild,args:["slideMin"]}],slideMax:[{type:i.ViewChild,args:["slideMax"]}],progress:[{type:i.ViewChild,args:["sliderProgress"]}],sliderMiddle:[{type:i.Input,args:["sliderMiddle"]}],sliderMinIcon:[{type:i.Input,args:["sliderMinIcon"]}],onMove:[{type:i.HostListener,args:["document:mousemove",["$event"]]},{type:i.HostListener,args:["document:touchmove",["$event"]]}],mouseup:[{type:i.HostListener,args:["document:mouseup",["$event"]]},{type:i.HostListener,args:["document:touchend",["$event"]]}]},t}(),s=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[e.CommonModule],exports:[n],declarations:[n],schemas:[i.CUSTOM_ELEMENTS_SCHEMA]}]}],t}();t.SliderModule=s,t.DoubleSliderComponent=n,Object.defineProperty(t,"__esModule",{value:!0})});